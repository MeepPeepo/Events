(this["webpackJsonpevents.toughlovearena.com"]=this["webpackJsonpevents.toughlovearena.com"]||[]).push([[0],{32:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),c=n(15),a=n.n(c),o=n(7),s=n.n(o),u=n(9),l=n(8),d=n(5),h=n(6),m=n(16),j=n.n(m);function b(e){return t=e.concat(),n=function(e){return e.datetime.getTime()},t.sort((function(e,t){return function(e,t){return e<t?-1:e>t?1:0}(n(e),n(t))})),t;var t,n}function f(e){return e.when.map((function(t){var n=t.date.split("/").map((function(e){return parseFloat(e)})),r=Object(l.a)(n,3),i=r[0],c=r[1],a=r[2],o=t.time.split(":").map((function(e){return parseFloat(e)})),s=Object(l.a)(o,2),u=function(e,t,n,r,i,c,a){var o=new Date(Date.UTC(t,n-1,r,i,c,a)),s=new Date(o.toLocaleString("en-US",{timeZone:"UTC"})),u=new Date(o.toLocaleString("en-US",{timeZone:e})),l=s.getTime()-u.getTime();return o.setTime(o.getTime()+l),o}("America/New_York",i,c,a,s[0],s[1],0);return{title:e.title,description:e.description,twitch:e.twitch,challonge:e.challonge,datetime:u}}))}function g(){return p.apply(this,arguments)}function p(){return(p=Object(u.a)(s.a.mark((function e(){var t,n,r,i,c,a,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 216e5,t=new Date((new Date).getTime()-216e5),e.next=4,fetch("events.yaml");case 4:return n=e.sent,e.next=7,n.text();case 7:return r=e.sent,e.next=10,j.a.parse(r);case 10:return i=e.sent,c=i.events,a=b(c.map(f).flat()),o=a.filter((function(e){return e.datetime>t})),u={upcoming:o,all:a},console.log(u),e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v,x,O,w,T,k,y,S,C=n(3),D=h.a.div(v||(v=Object(d.a)(["\n  margin: 1rem 0;\n  padding: 0.5rem 1rem;\n  border-radius: 1rem;\n  border: 1px solid black;\n\n  text-align: left;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n\n  & > * {\n    margin: 0.5rem 0;\n  }\n"]))),F=h.a.div(x||(x=Object(d.a)(["\n  font-size: 1.5em;\n  text-decoration: underline;\n"]))),L=h.a.div(O||(O=Object(d.a)(["\n"])));function U(e){var t=e.event,n=[];return t.challonge&&n.push({name:"challonge",url:"https://challonge.com/"+t.challonge}),t.twitch&&n.push({name:"twitch",url:"https://twitch.tv/"+t.twitch}),Object(C.jsxs)(D,{children:[Object(C.jsx)(F,{children:t.title}),t.description&&Object(C.jsx)("div",{children:t.description}),"When: ",t.datetime.toLocaleString(),n.length&&Object(C.jsx)(L,{children:n.map((function(e,t){return Object(C.jsxs)("span",{children:[t>0&&" / ",Object(C.jsx)("a",{href:e.url,children:e.name},t)]})}))})]})}var z=h.a.div(w||(w=Object(d.a)(["\n  max-width: 600px;\n  min-height: 100vh;\n  margin: 0 auto;\n  padding: 1em;\n  box-sizing: border-box;\n  background-color: white;\n\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n"]))),E=h.a.div(T||(T=Object(d.a)(["\n  margin: 1em;\n"]))),A=h.a.div(k||(k=Object(d.a)(["\n  font-size: 3em;\n  margin-bottom: 0.2em;\n"]))),B=h.a.div(y||(y=Object(d.a)(["\n"]))),I=h.a.div(S||(S=Object(d.a)(["\n  font-size: 2em;\n  margin-bottom: 0.2em;\n"])));function J(){var e=Object(r.useState)(void 0),t=Object(l.a)(e,2),n=t[0],i=t[1],c=Object(r.useCallback)(Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,n=t.upcoming,i(n);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(r.useEffect)((function(){c()}),[c]),Object(C.jsxs)(z,{children:[Object(C.jsxs)(E,{children:[Object(C.jsx)(A,{children:"Tough Love Arena Events"}),Object(C.jsxs)("div",{children:["Want to submit your own event? Check the ",Object(C.jsx)("a",{href:"https://github.com/toughlovearena/events",children:"GitHub"})," for instructions"]})]}),Object(C.jsxs)(B,{children:[Object(C.jsx)(I,{children:"Upcoming Events"}),n?Object(C.jsx)("div",{children:n.map((function(e,t){return Object(C.jsx)(U,{event:e},t)}))}):Object(C.jsx)("div",{children:"loading..."})]})]})}var P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))};a.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(J,{})}),document.getElementById("root")),P()}},[[32,1,2]]]);
//# sourceMappingURL=main.0b10394d.chunk.js.map