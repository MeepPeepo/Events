(this["webpackJsonpevents.toughlovearena.com"]=this["webpackJsonpevents.toughlovearena.com"]||[]).push([[0],{57:function(e,t,n){"use strict";n.r(t);var r,c,i=n(2),a=n.n(i),o=n(19),l=n.n(o),s=n(7),u=n.n(s),d=n(9),b=n(8),j=n(5),h=n(6),m=n(11),f=n(20),p=n.n(f);!function(e){e.Stream="stream",e.Tournament="tournament",e.Meetup="meetup"}(c||(c={}));var v=(r={},Object(m.a)(r,c.Stream,"#6441a5"),Object(m.a)(r,c.Tournament,"#aa6c39"),Object(m.a)(r,c.Meetup,"#ed1c40"),r);function g(e){var t;return null!==(t=v[e])&&void 0!==t?t:"black"}function x(e){return t=e.concat(),n=function(e){return e.start.getTime()},t.sort((function(e,t){return function(e,t){return e<t?-1:e>t?1:0}(n(e),n(t))})),t;var t,n}function O(e){return e.when.map((function(t){var n=t.date.split("/").map((function(e){return parseFloat(e)})),r=Object(b.a)(n,3),c=r[0],i=r[1],a=r[2],o=t.time.split(":").map((function(e){return parseFloat(e)})),l=Object(b.a)(o,2),s=function(e,t,n,r,c,i,a){var o=new Date(Date.UTC(t,n-1,r,c,i,a)),l=new Date(o.toLocaleString("en-US",{timeZone:"UTC"})),s=new Date(o.toLocaleString("en-US",{timeZone:e})),u=l.getTime()-s.getTime();return o.setTime(o.getTime()+u),o}("America/New_York",c,i,a,l[0],l[1],0),u=new Date(s.getTime()+60*t.hours*60*1e3);return{title:e.title,type:e.type,description:e.description,twitch:e.twitch,challonge:e.challonge,start:s,end:u}}))}function w(){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(u.a.mark((function e(){var t,n,r,c,i,a,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("events.yaml");case 2:return t=e.sent,e.next=5,t.text();case 5:return n=e.sent,e.next=8,p.a.parse(n);case 8:return r=e.sent,c=r.events,i=x(c.map(O).flat()),a=new Date,o=i.filter((function(e){return e.end>a})),l={upcoming:o,all:i},console.log(l),e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T,k,S,F,C,D,z,L,M,U,_,E,A,B=n(12),I=n(3),J=h.a.div(T||(T=Object(j.a)(["\n  margin: 1rem 0;\n  padding: 0.5rem 1rem;\n  border-radius: 1rem;\n  ","\n\n  text-align: left;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n"])),(function(e){return"\n    border: 0.5em solid ".concat(g(e.type),";\n  ")})),P=h.a.div(k||(k=Object(j.a)(["\n  font-size: 1.5em;\n  text-decoration: underline;\n  margin: 0.5rem 0;\n"]))),Z=h.a.div(S||(S=Object(j.a)(["\n"]))),G=h.a.div(F||(F=Object(j.a)(["\n"]))),H=h.a.div(C||(C=Object(j.a)(["\n  text-align: right;\n"]))),N=h.a.div(D||(D=Object(j.a)(["\n  font-size: 1.3em;\n"])));function W(e){var t=e.event,n=[],r=t.description?t.description+"\n\n":"";if(t.challonge){var c="https://challonge.com/"+t.challonge;n.push({name:"challonge",url:c}),r+="challonge: ".concat(c," \n")}if(t.twitch){var i="https://twitch.tv/"+t.twitch;n.push({name:"twitch",url:i}),r+="twitch: ".concat(i," \n")}var a={title:t.title,description:r,start:t.start,end:t.end};return Object(I.jsxs)(J,{type:t.type,children:[Object(I.jsx)(P,{children:t.title}),t.description&&Object(I.jsx)(Z,{children:t.description}),n.length&&Object(I.jsx)(G,{children:n.map((function(e,t){return Object(I.jsxs)("span",{children:[t>0&&" / ",Object(I.jsx)("a",{rel:"noreferrer",target:"_blank",href:e.url,children:e.name})]},t)}))}),Object(I.jsxs)(H,{children:[Object(I.jsx)(N,{children:t.start.toLocaleString()}),Object(I.jsxs)("div",{children:[Object(I.jsx)("a",{rel:"noreferrer",target:"_blank",href:B.google(a),children:"gcal"}),"\xa0/\xa0",Object(I.jsx)("a",{rel:"noreferrer",target:"_blank",href:B.ics(a),children:"ics"}),"\xa0/\xa0",Object(I.jsx)("a",{rel:"noreferrer",target:"_blank",href:B.outlook(a),children:"outlook"})]})]})]})}var Y=h.a.div(z||(z=Object(j.a)(["\n  max-width: 600px;\n  min-height: 100vh;\n  margin: 0 auto;\n  padding: 1em;\n  border: 1px solid black;\n  border-top-width: 0;\n  border-bottom-width: 0;\n  box-sizing: border-box;\n  background-color: white;\n\n\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n"]))),q=h.a.div(L||(L=Object(j.a)(["\n  margin: 1em;\n"]))),K=h.a.div(M||(M=Object(j.a)(["\n  font-size: 3em;\n  margin-bottom: 0.2em;\n"]))),Q=h.a.div(U||(U=Object(j.a)(["\n"]))),R=h.a.div(_||(_=Object(j.a)(["\n  font-size: 2em;\n  margin-bottom: 0.2em;\n"]))),V=h.a.div(E||(E=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),X=h.a.div(A||(A=Object(j.a)(["\n  cursor: pointer;\n  margin: 0.3em;\n  padding: 0.5em;\n  box-sizing: border-box;\n  width: 7em;\n  ","\n\n"])),(function(e){return"\n    border: 0.5em solid ".concat(e.color,";\n    border-radius: ").concat(e.selected?"0":"1","em;\n    ").concat(e.selected?"\n      background-color: #ffa;\n    ":"","\n  ")}));function $(e){var t=e.filter,n=e.setFilter,r=e.eventType,c=e.label;return Object(I.jsx)(X,{selected:t===r,color:r?g(r):"black",onClick:function(){return n(r)},children:c})}function ee(){var e=Object(i.useState)(void 0),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)(void 0),o=Object(b.a)(a,2),l=o[0],s=o[1],j=Object(i.useCallback)(Object(d.a)(u.a.mark((function e(){var t,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,r=t.upcoming,c=n?r.filter((function(e){return e.type===n})):r,s(c);case 6:case"end":return e.stop()}}),e)}))),[n]);return Object(i.useEffect)((function(){j()}),[j]),Object(I.jsxs)(Y,{children:[Object(I.jsxs)(q,{children:[Object(I.jsx)(K,{children:"Tough Love Arena Events"}),Object(I.jsxs)("div",{children:["Want to submit your own event? Check the ",Object(I.jsx)("a",{href:"https://github.com/toughlovearena/events",children:"GitHub"})," for instructions"]})]}),Object(I.jsxs)(Q,{children:[Object(I.jsx)(R,{children:"Upcoming Events"}),Object(I.jsxs)(V,{children:[Object(I.jsx)($,{filter:n,setFilter:r,eventType:void 0,label:"All"}),Object(I.jsx)($,{filter:n,setFilter:r,eventType:c.Tournament,label:"Tournament"}),Object(I.jsx)($,{filter:n,setFilter:r,eventType:c.Stream,label:"Stream"}),Object(I.jsx)($,{filter:n,setFilter:r,eventType:c.Meetup,label:"Meetup"})]}),l?Object(I.jsx)("div",{children:l.map((function(e,t){return Object(I.jsx)(W,{event:e},t)}))}):Object(I.jsx)("div",{children:"loading..."})]})]})}var te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};l.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(ee,{})}),document.getElementById("root")),te()}},[[57,1,2]]]);
//# sourceMappingURL=main.70c74303.chunk.js.map